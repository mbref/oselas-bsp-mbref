From 7a65c6dd165a8fc052ba0321eb706536e6cbef71 Mon Sep 17 00:00:00 2001
From: Michal Simek <michal.simek@xilinx.com>
Date: Mon, 14 Oct 2013 10:09:32 +0200
Subject: [PATCH] zynq: DTS synchronization with device tree BSP

All DTSes generated byt device tree BSP 14.7.

Signed-off-by: Michal Simek <michal.simek@xilinx.com>
---
 arch/arm/boot/dts/zynq-7000.dtsi       | 63 ++++++++++++----------------------
 arch/arm/boot/dts/zynq-afx-nand.dts    | 28 +++++++--------
 arch/arm/boot/dts/zynq-afx-nor.dts     | 28 +++++++--------
 arch/arm/boot/dts/zynq-zc702.dts       | 33 ++++++++----------
 arch/arm/boot/dts/zynq-zc706.dts       | 45 ++++++++++++++----------
 arch/arm/boot/dts/zynq-zc770-xm010.dts | 33 ++++++++----------
 arch/arm/boot/dts/zynq-zc770-xm011.dts | 30 +++++++---------
 arch/arm/boot/dts/zynq-zc770-xm012.dts | 30 +++++++---------
 arch/arm/boot/dts/zynq-zc770-xm013.dts | 29 +++++++---------
 arch/arm/boot/dts/zynq-zed.dts         | 30 +++++++---------
 10 files changed, 149 insertions(+), 200 deletions(-)

diff --git a/arch/arm/boot/dts/zynq-7000.dtsi b/arch/arm/boot/dts/zynq-7000.dtsi
index 401c126..14fb2e6 100644
--- a/arch/arm/boot/dts/zynq-7000.dtsi
+++ b/arch/arm/boot/dts/zynq-7000.dtsi
@@ -15,6 +15,13 @@
 / {
 	compatible = "xlnx,zynq-7000";
 
+	pmu {
+		compatible = "arm,cortex-a9-pmu";
+		interrupts = <0 5 4>, <0 6 4>;
+		interrupt-parent = <&intc>;
+		reg = < 0xf8891000 0x1000 0xf8893000 0x1000 >;
+	};
+
 	amba {
 		compatible = "simple-bus";
 		#address-cells = <1>;
@@ -44,14 +51,14 @@
 			compatible = "xlnx,xuartps";
 			reg = <0xE0000000 0x1000>;
 			interrupts = <0 27 4>;
-			clock = <50000000>;
+			clocks = <&uart_clk 0>;
 		};
 
 		uart1: uart@e0001000 {
 			compatible = "xlnx,xuartps";
 			reg = <0xE0001000 0x1000>;
 			interrupts = <0 50 4>;
-			clock = <50000000>;
+			clocks = <&uart_clk 1>;
 		};
 
 		slcr: slcr@f8000000 {
@@ -111,56 +118,30 @@
 		};
 
 		ttc0: ttc0@f8001000 {
-			#address-cells = <1>;
-			#size-cells = <0>;
-			compatible = "xlnx,ttc";
+			interrupt-parent = <&intc>;
+			interrupts = < 0 10 4 0 11 4 0 12 4 >;
+			compatible = "cdns,ttc";
 			reg = <0xF8001000 0x1000>;
 			clocks = <&cpu_clk 3>;
 			clock-names = "cpu_1x";
 			clock-ranges;
-
-			ttc0_0: ttc0.0 {
-				status = "disabled";
-				reg = <0>;
-				interrupts = <0 10 4>;
-			};
-			ttc0_1: ttc0.1 {
-				status = "disabled";
-				reg = <1>;
-				interrupts = <0 11 4>;
-			};
-			ttc0_2: ttc0.2 {
-				status = "disabled";
-				reg = <2>;
-				interrupts = <0 12 4>;
-			};
 		};
 
 		ttc1: ttc1@f8002000 {
-			#interrupt-parent = <&intc>;
-			#address-cells = <1>;
-			#size-cells = <0>;
-			compatible = "xlnx,ttc";
+			interrupt-parent = <&intc>;
+			interrupts = < 0 37 4 0 38 4 0 39 4 >;
+			compatible = "cdns,ttc";
 			reg = <0xF8002000 0x1000>;
 			clocks = <&cpu_clk 3>;
 			clock-names = "cpu_1x";
 			clock-ranges;
-
-			ttc1_0: ttc1.0 {
-				status = "disabled";
-				reg = <0>;
-				interrupts = <0 37 4>;
-			};
-			ttc1_1: ttc1.1 {
-				status = "disabled";
-				reg = <1>;
-				interrupts = <0 38 4>;
-			};
-			ttc1_2: ttc1.2 {
-				status = "disabled";
-				reg = <2>;
-				interrupts = <0 39 4>;
-			};
 		};
+		scutimer: scutimer@f8f00600 {
+			interrupt-parent = <&intc>;
+			interrupts = < 1 13 0x301 >;
+			compatible = "arm,cortex-a9-twd-timer";
+			reg = < 0xf8f00600 0x20 >;
+			clocks = <&cpu_clk 1>;
+		} ;
 	};
 };
diff --git a/arch/arm/boot/dts/zynq-afx-nand.dts b/arch/arm/boot/dts/zynq-afx-nand.dts
index a514f49..668a181 100644
--- a/arch/arm/boot/dts/zynq-afx-nand.dts
+++ b/arch/arm/boot/dts/zynq-afx-nand.dts
@@ -7,21 +7,6 @@
  *
  * Michal SIMEK <monstr@monstr.eu>
  *
- * This program is free software; you can redistribute it and/or
- * modify it under the terms of the GNU General Public License as
- * published by the Free Software Foundation; either version 2 of
- * the License, or (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston,
- * MA 02111-1307 USA
- *
  * CAUTION: This file is automatically generated by libgen.
  * Version: Xilinx EDK 14.5 EDK_P.58f
  *
@@ -42,24 +27,27 @@
 	} ;
 	cpus {
 		#address-cells = <1>;
-		#cpus = <0x2>;
 		#size-cells = <0>;
 		ps7_cortexa9_0: cpu@0 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x0>;
 		} ;
 		ps7_cortexa9_1: cpu@1 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x1>;
 		} ;
 	} ;
@@ -68,6 +56,7 @@
 		interrupt-parent = <&ps7_scugic_0>;
 		interrupts = <0 5 4>, <0 6 4>;
 		reg = <0xf8891000 0x1000>, <0xf8893000 0x1000>;
+		reg-names = "cpu0", "cpu1";
 	} ;
 	ps7_ddr_0: memory@0 {
 		device_type = "memory";
@@ -112,8 +101,11 @@
 			#dma-channels = <8>;
 			#dma-requests = <4>;
 			arm,primecell-periphid = <0x41330>;
+			clock-names = "apb_pclk";
 			clocks = <&clkc 27>;
 			compatible = "xlnx,ps7-dma-1.00.a", "arm,primecell", "arm,pl330";
+			interrupt-names = "abort", "dma0", "dma1", "dma2", "dma3",
+				"dma4", "dma5", "dma6", "dma7";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 13 4>, <0 14 4>, <0 15 4>, <0 16 4>, <0 17 4>, <0 40 4>, <0 41 4>, <0 42 4>, <0 43 4>;
 			reg = <0xf8003000 0x1000>;
@@ -156,6 +148,8 @@
 			#size-cells = <1>;
 			compatible = "xlnx,ps7-scugic-1.00.a", "arm,cortex-a9-gic", "arm,gic";
 			interrupt-controller ;
+			num_cpus = <2>;
+			num_interrupts = <96>;
 			reg = <0xf8f01000 0x1000>, <0xf8f00100 0x100>;
 		} ;
 		ps7_scutimer_0: ps7-scutimer@f8f00600 {
@@ -192,6 +186,7 @@
 						"uart0_aper", "uart1_aper", "gpio_aper", "lqspi_aper", "smc_aper",
 						"swdt", "dbg_trc", "dbg_apb";
 					compatible = "xlnx,ps7-clkc";
+					fclk-enable = <0xf>;
 					ps-clk-frequency = <33333333>;
 				} ;
 			} ;
@@ -259,6 +254,7 @@
 		ps7_ttc_1: ps7-ttc@f8002000 {
 			clocks = <&clkc 6>;
 			compatible = "xlnx,ps7-ttc-1.00.a", "cdns,ttc";
+			interrupt-names = "ttc0", "ttc1", "ttc2";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 37 4>, <0 38 4>, <0 39 4>;
 			reg = <0xf8002000 0x1000>;
diff --git a/arch/arm/boot/dts/zynq-afx-nor.dts b/arch/arm/boot/dts/zynq-afx-nor.dts
index 6034944..cf8f8b1 100644
--- a/arch/arm/boot/dts/zynq-afx-nor.dts
+++ b/arch/arm/boot/dts/zynq-afx-nor.dts
@@ -7,21 +7,6 @@
  *
  * Michal SIMEK <monstr@monstr.eu>
  *
- * This program is free software; you can redistribute it and/or
- * modify it under the terms of the GNU General Public License as
- * published by the Free Software Foundation; either version 2 of
- * the License, or (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston,
- * MA 02111-1307 USA
- *
  * CAUTION: This file is automatically generated by libgen.
  * Version: Xilinx EDK 14.5 EDK_P.58f
  *
@@ -42,24 +27,27 @@
 	} ;
 	cpus {
 		#address-cells = <1>;
-		#cpus = <0x2>;
 		#size-cells = <0>;
 		ps7_cortexa9_0: cpu@0 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x0>;
 		} ;
 		ps7_cortexa9_1: cpu@1 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x1>;
 		} ;
 	} ;
@@ -68,6 +56,7 @@
 		interrupt-parent = <&ps7_scugic_0>;
 		interrupts = <0 5 4>, <0 6 4>;
 		reg = <0xf8891000 0x1000>, <0xf8893000 0x1000>;
+		reg-names = "cpu0", "cpu1";
 	} ;
 	ps7_ddr_0: memory@0 {
 		device_type = "memory";
@@ -112,8 +101,11 @@
 			#dma-channels = <8>;
 			#dma-requests = <4>;
 			arm,primecell-periphid = <0x41330>;
+			clock-names = "apb_pclk";
 			clocks = <&clkc 27>;
 			compatible = "xlnx,ps7-dma-1.00.a", "arm,primecell", "arm,pl330";
+			interrupt-names = "abort", "dma0", "dma1", "dma2", "dma3",
+				"dma4", "dma5", "dma6", "dma7";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 13 4>, <0 14 4>, <0 15 4>, <0 16 4>, <0 17 4>, <0 40 4>, <0 41 4>, <0 42 4>, <0 43 4>;
 			reg = <0xf8003000 0x1000>;
@@ -144,6 +136,8 @@
 			#size-cells = <1>;
 			compatible = "xlnx,ps7-scugic-1.00.a", "arm,cortex-a9-gic", "arm,gic";
 			interrupt-controller ;
+			num_cpus = <2>;
+			num_interrupts = <96>;
 			reg = <0xf8f01000 0x1000>, <0xf8f00100 0x100>;
 		} ;
 		ps7_scutimer_0: ps7-scutimer@f8f00600 {
@@ -180,6 +174,7 @@
 						"uart0_aper", "uart1_aper", "gpio_aper", "lqspi_aper", "smc_aper",
 						"swdt", "dbg_trc", "dbg_apb";
 					compatible = "xlnx,ps7-clkc";
+					fclk-enable = <0xf>;
 					ps-clk-frequency = <33333333>;
 				} ;
 			} ;
@@ -247,6 +242,7 @@
 		ps7_ttc_1: ps7-ttc@f8002000 {
 			clocks = <&clkc 6>;
 			compatible = "xlnx,ps7-ttc-1.00.a", "cdns,ttc";
+			interrupt-names = "ttc0", "ttc1", "ttc2";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 37 4>, <0 38 4>, <0 39 4>;
 			reg = <0xf8002000 0x1000>;
diff --git a/arch/arm/boot/dts/zynq-zc702.dts b/arch/arm/boot/dts/zynq-zc702.dts
index 87b8272..9e79a4f 100644
--- a/arch/arm/boot/dts/zynq-zc702.dts
+++ b/arch/arm/boot/dts/zynq-zc702.dts
@@ -7,21 +7,6 @@
  *
  * Michal SIMEK <monstr@monstr.eu>
  *
- * This program is free software; you can redistribute it and/or
- * modify it under the terms of the GNU General Public License as
- * published by the Free Software Foundation; either version 2 of
- * the License, or (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston,
- * MA 02111-1307 USA
- *
  * CAUTION: This file is automatically generated by libgen.
  * Version: Xilinx EDK 14.5 EDK_P.58f
  *
@@ -45,24 +30,27 @@
 	} ;
 	cpus {
 		#address-cells = <1>;
-		#cpus = <0x2>;
 		#size-cells = <0>;
 		ps7_cortexa9_0: cpu@0 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x0>;
 		} ;
 		ps7_cortexa9_1: cpu@1 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x1>;
 		} ;
 	} ;
@@ -71,6 +59,7 @@
 		interrupt-parent = <&ps7_scugic_0>;
 		interrupts = <0 5 4>, <0 6 4>;
 		reg = <0xf8891000 0x1000>, <0xf8893000 0x1000>;
+		reg-names = "cpu0", "cpu1";
 	} ;
 	ps7_ddr_0: memory@0 {
 		device_type = "memory";
@@ -100,7 +89,7 @@
 		ps7_can_0: ps7-can@e0008000 {
 			clock-names = "ref_clk", "aper_clk";
 			clocks = <&clkc 19>, <&clkc 36>;
-			compatible = "xlnx,ps7-can-1.00.a";
+			compatible = "xlnx,ps7-can-1.00.a", "xlnx,ps7-can";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 28 4>;
 			reg = <0xe0008000 0x1000>;
@@ -123,8 +112,11 @@
 			#dma-channels = <8>;
 			#dma-requests = <4>;
 			arm,primecell-periphid = <0x41330>;
+			clock-names = "apb_pclk";
 			clocks = <&clkc 27>;
 			compatible = "xlnx,ps7-dma-1.00.a", "arm,primecell", "arm,pl330";
+			interrupt-names = "abort", "dma0", "dma1", "dma2", "dma3",
+				"dma4", "dma5", "dma6", "dma7";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 13 4>, <0 14 4>, <0 15 4>, <0 16 4>, <0 17 4>, <0 40 4>, <0 41 4>, <0 42 4>, <0 43 4>;
 			reg = <0xf8003000 0x1000>;
@@ -323,6 +315,8 @@
 			#size-cells = <1>;
 			compatible = "xlnx,ps7-scugic-1.00.a", "arm,cortex-a9-gic", "arm,gic";
 			interrupt-controller ;
+			num_cpus = <2>;
+			num_interrupts = <96>;
 			reg = <0xf8f01000 0x1000>, <0xf8f00100 0x100>;
 		} ;
 		ps7_scutimer_0: ps7-scutimer@f8f00600 {
@@ -344,7 +338,7 @@
 			clock-frequency = <50000000>;
 			clock-names = "ref_clk", "aper_clk";
 			clocks = <&clkc 21>, <&clkc 32>;
-			compatible = "xlnx,ps7-sdio-1.00.a", "generic-sdhci";
+			compatible = "xlnx,ps7-sdio-1.00.a", "generic-sdhci", "arasan,sdhci";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 24 4>;
 			reg = <0xe0100000 0x1000>;
@@ -371,6 +365,7 @@
 						"uart0_aper", "uart1_aper", "gpio_aper", "lqspi_aper", "smc_aper",
 						"swdt", "dbg_trc", "dbg_apb";
 					compatible = "xlnx,ps7-clkc";
+					fclk-enable = <0xf>;
 					ps-clk-frequency = <33333333>;
 				} ;
 			} ;
@@ -403,7 +398,7 @@
 			interrupts = <0 21 4>;
 			phy_type = "ulpi";
 			reg = <0xe0002000 0x1000>;
-			xlnx,usb-reset = "MIO 7";
+			usb-reset = <&ps7_gpio_0 7 0>;
 		} ;
 		ps7_wdt_0: ps7-wdt@f8005000 {
 			clocks = <&clkc 45>;
diff --git a/arch/arm/boot/dts/zynq-zc706.dts b/arch/arm/boot/dts/zynq-zc706.dts
index 7f87c33..496e673 100644
--- a/arch/arm/boot/dts/zynq-zc706.dts
+++ b/arch/arm/boot/dts/zynq-zc706.dts
@@ -7,21 +7,6 @@
  *
  * Michal SIMEK <monstr@monstr.eu>
  *
- * This program is free software; you can redistribute it and/or
- * modify it under the terms of the GNU General Public License as
- * published by the Free Software Foundation; either version 2 of
- * the License, or (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston,
- * MA 02111-1307 USA
- *
  * CAUTION: This file is automatically generated by libgen.
  * Version: Xilinx EDK 14.5 EDK_P.58f
  *
@@ -45,24 +30,27 @@
 	} ;
 	cpus {
 		#address-cells = <1>;
-		#cpus = <0x2>;
 		#size-cells = <0>;
 		ps7_cortexa9_0: cpu@0 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x0>;
 		} ;
 		ps7_cortexa9_1: cpu@1 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x1>;
 		} ;
 	} ;
@@ -71,6 +59,7 @@
 		interrupt-parent = <&ps7_scugic_0>;
 		interrupts = <0 5 4>, <0 6 4>;
 		reg = <0xf8891000 0x1000>, <0xf8893000 0x1000>;
+		reg-names = "cpu0", "cpu1";
 	} ;
 	ps7_ddr_0: memory@0 {
 		device_type = "memory";
@@ -115,8 +104,11 @@
 			#dma-channels = <8>;
 			#dma-requests = <4>;
 			arm,primecell-periphid = <0x41330>;
+			clock-names = "apb_pclk";
 			clocks = <&clkc 27>;
 			compatible = "xlnx,ps7-dma-1.00.a", "arm,primecell", "arm,pl330";
+			interrupt-names = "abort", "dma0", "dma1", "dma2", "dma3",
+				"dma4", "dma5", "dma6", "dma7";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 13 4>, <0 14 4>, <0 15 4>, <0 16 4>, <0 17 4>, <0 40 4>, <0 41 4>, <0 42 4>, <0 43 4>;
 			reg = <0xf8003000 0x1000>;
@@ -215,11 +207,22 @@
 					#address-cells = <1>;
 					#size-cells = <0>;
 					reg = <4>;
-					rtc@54 {
+					rtc@51 {
 						compatible = "nxp,pcf8563";
 						reg = <0x51>;
 					};
 				};
+
+
+				i2c@7 {
+					#address-cells = <1>;
+					#size-cells = <0>;
+					reg = <7>;
+					ucd90120@65 {
+						compatible = "pmbus,ucd90120";
+						reg = <0x65>;
+					};
+				};
 			};
 
 		} ;
@@ -297,6 +300,8 @@
 			#size-cells = <1>;
 			compatible = "xlnx,ps7-scugic-1.00.a", "arm,cortex-a9-gic", "arm,gic";
 			interrupt-controller ;
+			num_cpus = <2>;
+			num_interrupts = <96>;
 			reg = <0xf8f01000 0x1000>, <0xf8f00100 0x100>;
 		} ;
 		ps7_scutimer_0: ps7-scutimer@f8f00600 {
@@ -318,7 +323,7 @@
 			clock-frequency = <50000000>;
 			clock-names = "ref_clk", "aper_clk";
 			clocks = <&clkc 21>, <&clkc 32>;
-			compatible = "xlnx,ps7-sdio-1.00.a", "generic-sdhci";
+			compatible = "xlnx,ps7-sdio-1.00.a", "generic-sdhci", "arasan,sdhci";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 24 4>;
 			reg = <0xe0100000 0x1000>;
@@ -345,6 +350,7 @@
 						"uart0_aper", "uart1_aper", "gpio_aper", "lqspi_aper", "smc_aper",
 						"swdt", "dbg_trc", "dbg_apb";
 					compatible = "xlnx,ps7-clkc";
+					fclk-enable = <0xf>;
 					ps-clk-frequency = <33333333>;
 				} ;
 			} ;
@@ -360,6 +366,7 @@
 		ps7_ttc_1: ps7-ttc@f8002000 {
 			clocks = <&clkc 6>;
 			compatible = "xlnx,ps7-ttc-1.00.a", "cdns,ttc";
+			interrupt-names = "ttc0", "ttc1", "ttc2";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 37 4>, <0 38 4>, <0 39 4>;
 			reg = <0xf8002000 0x1000>;
@@ -384,7 +391,7 @@
 			interrupts = <0 21 4>;
 			phy_type = "ulpi";
 			reg = <0xe0002000 0x1000>;
-			xlnx,usb-reset = "MIO 7";
+			usb-reset = <&ps7_gpio_0 7 0>;
 		} ;
 		ps7_wdt_0: ps7-wdt@f8005000 {
 			clocks = <&clkc 45>;
diff --git a/arch/arm/boot/dts/zynq-zc770-xm010.dts b/arch/arm/boot/dts/zynq-zc770-xm010.dts
index d8031e9..c467c0e 100644
--- a/arch/arm/boot/dts/zynq-zc770-xm010.dts
+++ b/arch/arm/boot/dts/zynq-zc770-xm010.dts
@@ -7,21 +7,6 @@
  *
  * Michal SIMEK <monstr@monstr.eu>
  *
- * This program is free software; you can redistribute it and/or
- * modify it under the terms of the GNU General Public License as
- * published by the Free Software Foundation; either version 2 of
- * the License, or (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston,
- * MA 02111-1307 USA
- *
  * CAUTION: This file is automatically generated by libgen.
  * Version: Xilinx EDK 14.5 EDK_P.58f
  *
@@ -46,24 +31,27 @@
 	} ;
 	cpus {
 		#address-cells = <1>;
-		#cpus = <0x2>;
 		#size-cells = <0>;
 		ps7_cortexa9_0: cpu@0 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x0>;
 		} ;
 		ps7_cortexa9_1: cpu@1 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x1>;
 		} ;
 	} ;
@@ -72,6 +60,7 @@
 		interrupt-parent = <&ps7_scugic_0>;
 		interrupts = <0 5 4>, <0 6 4>;
 		reg = <0xf8891000 0x1000>, <0xf8893000 0x1000>;
+		reg-names = "cpu0", "cpu1";
 	} ;
 	ps7_ddr_0: memory@0 {
 		device_type = "memory";
@@ -101,7 +90,7 @@
 		ps7_can_0: ps7-can@e0008000 {
 			clock-names = "ref_clk", "aper_clk";
 			clocks = <&clkc 19>, <&clkc 36>;
-			compatible = "xlnx,ps7-can-1.00.a";
+			compatible = "xlnx,ps7-can-1.00.a", "xlnx,ps7-can";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 28 4>;
 			reg = <0xe0008000 0x1000>;
@@ -124,8 +113,11 @@
 			#dma-channels = <8>;
 			#dma-requests = <4>;
 			arm,primecell-periphid = <0x41330>;
+			clock-names = "apb_pclk";
 			clocks = <&clkc 27>;
 			compatible = "xlnx,ps7-dma-1.00.a", "arm,primecell", "arm,pl330";
+			interrupt-names = "abort", "dma0", "dma1", "dma2", "dma3",
+				"dma4", "dma5", "dma6", "dma7";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 13 4>, <0 14 4>, <0 15 4>, <0 16 4>, <0 17 4>, <0 40 4>, <0 41 4>, <0 42 4>, <0 43 4>;
 			reg = <0xf8003000 0x1000>;
@@ -260,6 +252,8 @@
 			#size-cells = <1>;
 			compatible = "xlnx,ps7-scugic-1.00.a", "arm,cortex-a9-gic", "arm,gic";
 			interrupt-controller ;
+			num_cpus = <2>;
+			num_interrupts = <96>;
 			reg = <0xf8f01000 0x1000>, <0xf8f00100 0x100>;
 		} ;
 		ps7_scutimer_0: ps7-scutimer@f8f00600 {
@@ -281,7 +275,7 @@
 			clock-frequency = <50000000>;
 			clock-names = "ref_clk", "aper_clk";
 			clocks = <&clkc 21>, <&clkc 32>;
-			compatible = "xlnx,ps7-sdio-1.00.a", "generic-sdhci";
+			compatible = "xlnx,ps7-sdio-1.00.a", "generic-sdhci", "arasan,sdhci";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 24 4>;
 			reg = <0xe0100000 0x1000>;
@@ -308,6 +302,7 @@
 						"uart0_aper", "uart1_aper", "gpio_aper", "lqspi_aper", "smc_aper",
 						"swdt", "dbg_trc", "dbg_apb";
 					compatible = "xlnx,ps7-clkc";
+					fclk-enable = <0xf>;
 					ps-clk-frequency = <33333333>;
 				} ;
 			} ;
@@ -363,7 +358,7 @@
 			interrupts = <0 21 4>;
 			phy_type = "ulpi";
 			reg = <0xe0002000 0x1000>;
-			xlnx,usb-reset = "MIO 7";
+			usb-reset = <&ps7_gpio_0 7 0>;
 		} ;
 		ps7_wdt_0: ps7-wdt@f8005000 {
 			clocks = <&clkc 45>;
diff --git a/arch/arm/boot/dts/zynq-zc770-xm011.dts b/arch/arm/boot/dts/zynq-zc770-xm011.dts
index 4c3ec0f..7121a84 100644
--- a/arch/arm/boot/dts/zynq-zc770-xm011.dts
+++ b/arch/arm/boot/dts/zynq-zc770-xm011.dts
@@ -7,21 +7,6 @@
  *
  * Michal SIMEK <monstr@monstr.eu>
  *
- * This program is free software; you can redistribute it and/or
- * modify it under the terms of the GNU General Public License as
- * published by the Free Software Foundation; either version 2 of
- * the License, or (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston,
- * MA 02111-1307 USA
- *
  * CAUTION: This file is automatically generated by libgen.
  * Version: Xilinx EDK 14.5 EDK_P.58f
  *
@@ -44,24 +29,27 @@
 	} ;
 	cpus {
 		#address-cells = <1>;
-		#cpus = <0x2>;
 		#size-cells = <0>;
 		ps7_cortexa9_0: cpu@0 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x0>;
 		} ;
 		ps7_cortexa9_1: cpu@1 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x1>;
 		} ;
 	} ;
@@ -70,6 +58,7 @@
 		interrupt-parent = <&ps7_scugic_0>;
 		interrupts = <0 5 4>, <0 6 4>;
 		reg = <0xf8891000 0x1000>, <0xf8893000 0x1000>;
+		reg-names = "cpu0", "cpu1";
 	} ;
 	ps7_ddr_0: memory@0 {
 		device_type = "memory";
@@ -99,7 +88,7 @@
 		ps7_can_0: ps7-can@e0008000 {
 			clock-names = "ref_clk", "aper_clk";
 			clocks = <&clkc 19>, <&clkc 36>;
-			compatible = "xlnx,ps7-can-1.00.a";
+			compatible = "xlnx,ps7-can-1.00.a", "xlnx,ps7-can";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 28 4>;
 			reg = <0xe0008000 0x1000>;
@@ -122,8 +111,11 @@
 			#dma-channels = <8>;
 			#dma-requests = <4>;
 			arm,primecell-periphid = <0x41330>;
+			clock-names = "apb_pclk";
 			clocks = <&clkc 27>;
 			compatible = "xlnx,ps7-dma-1.00.a", "arm,primecell", "arm,pl330";
+			interrupt-names = "abort", "dma0", "dma1", "dma2", "dma3",
+				"dma4", "dma5", "dma6", "dma7";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 13 4>, <0 14 4>, <0 15 4>, <0 16 4>, <0 17 4>, <0 40 4>, <0 41 4>, <0 42 4>, <0 43 4>;
 			reg = <0xf8003000 0x1000>;
@@ -183,6 +175,8 @@
 			#size-cells = <1>;
 			compatible = "xlnx,ps7-scugic-1.00.a", "arm,cortex-a9-gic", "arm,gic";
 			interrupt-controller ;
+			num_cpus = <2>;
+			num_interrupts = <96>;
 			reg = <0xf8f01000 0x1000>, <0xf8f00100 0x100>;
 		} ;
 		ps7_scutimer_0: ps7-scutimer@f8f00600 {
@@ -219,6 +213,7 @@
 						"uart0_aper", "uart1_aper", "gpio_aper", "lqspi_aper", "smc_aper",
 						"swdt", "dbg_trc", "dbg_apb";
 					compatible = "xlnx,ps7-clkc";
+					fclk-enable = <0xf>;
 					ps-clk-frequency = <33333333>;
 				} ;
 			} ;
@@ -313,7 +308,6 @@
 			interrupts = <0 44 4>;
 			phy_type = "ulpi";
 			reg = <0xe0003000 0x1000>;
-			xlnx,usb-reset = <0xffffffff>;
 		} ;
 		ps7_wdt_0: ps7-wdt@f8005000 {
 			clocks = <&clkc 45>;
diff --git a/arch/arm/boot/dts/zynq-zc770-xm012.dts b/arch/arm/boot/dts/zynq-zc770-xm012.dts
index 40e65fb..dc88e7d 100644
--- a/arch/arm/boot/dts/zynq-zc770-xm012.dts
+++ b/arch/arm/boot/dts/zynq-zc770-xm012.dts
@@ -7,21 +7,6 @@
  *
  * Michal SIMEK <monstr@monstr.eu>
  *
- * This program is free software; you can redistribute it and/or
- * modify it under the terms of the GNU General Public License as
- * published by the Free Software Foundation; either version 2 of
- * the License, or (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston,
- * MA 02111-1307 USA
- *
  * CAUTION: This file is automatically generated by libgen.
  * Version: Xilinx EDK 14.5 EDK_P.58f
  *
@@ -45,24 +30,27 @@
 	} ;
 	cpus {
 		#address-cells = <1>;
-		#cpus = <0x2>;
 		#size-cells = <0>;
 		ps7_cortexa9_0: cpu@0 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x0>;
 		} ;
 		ps7_cortexa9_1: cpu@1 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x1>;
 		} ;
 	} ;
@@ -71,6 +59,7 @@
 		interrupt-parent = <&ps7_scugic_0>;
 		interrupts = <0 5 4>, <0 6 4>;
 		reg = <0xf8891000 0x1000>, <0xf8893000 0x1000>;
+		reg-names = "cpu0", "cpu1";
 	} ;
 	ps7_ddr_0: memory@0 {
 		device_type = "memory";
@@ -100,7 +89,7 @@
 		ps7_can_1: ps7-can@e0009000 {
 			clock-names = "ref_clk", "aper_clk";
 			clocks = <&clkc 20>, <&clkc 37>;
-			compatible = "xlnx,ps7-can-1.00.a";
+			compatible = "xlnx,ps7-can-1.00.a", "xlnx,ps7-can";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 51 4>;
 			reg = <0xe0009000 0x1000>;
@@ -123,8 +112,11 @@
 			#dma-channels = <8>;
 			#dma-requests = <4>;
 			arm,primecell-periphid = <0x41330>;
+			clock-names = "apb_pclk";
 			clocks = <&clkc 27>;
 			compatible = "xlnx,ps7-dma-1.00.a", "arm,primecell", "arm,pl330";
+			interrupt-names = "abort", "dma0", "dma1", "dma2", "dma3",
+				"dma4", "dma5", "dma6", "dma7";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 13 4>, <0 14 4>, <0 15 4>, <0 16 4>, <0 17 4>, <0 40 4>, <0 41 4>, <0 42 4>, <0 43 4>;
 			reg = <0xf8003000 0x1000>;
@@ -202,6 +194,8 @@
 			#size-cells = <1>;
 			compatible = "xlnx,ps7-scugic-1.00.a", "arm,cortex-a9-gic", "arm,gic";
 			interrupt-controller ;
+			num_cpus = <2>;
+			num_interrupts = <96>;
 			reg = <0xf8f01000 0x1000>, <0xf8f00100 0x100>;
 		} ;
 		ps7_scutimer_0: ps7-scutimer@f8f00600 {
@@ -238,6 +232,7 @@
 						"uart0_aper", "uart1_aper", "gpio_aper", "lqspi_aper", "smc_aper",
 						"swdt", "dbg_trc", "dbg_apb";
 					compatible = "xlnx,ps7-clkc";
+					fclk-enable = <0xf>;
 					ps-clk-frequency = <33333333>;
 				} ;
 			} ;
@@ -313,6 +308,7 @@
 		ps7_ttc_1: ps7-ttc@f8002000 {
 			clocks = <&clkc 6>;
 			compatible = "xlnx,ps7-ttc-1.00.a", "cdns,ttc";
+			interrupt-names = "ttc0", "ttc1", "ttc2";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 37 4>, <0 38 4>, <0 39 4>;
 			reg = <0xf8002000 0x1000>;
diff --git a/arch/arm/boot/dts/zynq-zc770-xm013.dts b/arch/arm/boot/dts/zynq-zc770-xm013.dts
index 618ae0e..7922a6e 100644
--- a/arch/arm/boot/dts/zynq-zc770-xm013.dts
+++ b/arch/arm/boot/dts/zynq-zc770-xm013.dts
@@ -7,21 +7,6 @@
  *
  * Michal SIMEK <monstr@monstr.eu>
  *
- * This program is free software; you can redistribute it and/or
- * modify it under the terms of the GNU General Public License as
- * published by the Free Software Foundation; either version 2 of
- * the License, or (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston,
- * MA 02111-1307 USA
- *
  * CAUTION: This file is automatically generated by libgen.
  * Version: Xilinx EDK 14.5 EDK_P.58f
  *
@@ -46,24 +31,27 @@
 	} ;
 	cpus {
 		#address-cells = <1>;
-		#cpus = <0x2>;
 		#size-cells = <0>;
 		ps7_cortexa9_0: cpu@0 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x0>;
 		} ;
 		ps7_cortexa9_1: cpu@1 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x1>;
 		} ;
 	} ;
@@ -72,6 +60,7 @@
 		interrupt-parent = <&ps7_scugic_0>;
 		interrupts = <0 5 4>, <0 6 4>;
 		reg = <0xf8891000 0x1000>, <0xf8893000 0x1000>;
+		reg-names = "cpu0", "cpu1";
 	} ;
 	ps7_ddr_0: memory@0 {
 		device_type = "memory";
@@ -101,7 +90,7 @@
 		ps7_can_1: ps7-can@e0009000 {
 			clock-names = "ref_clk", "aper_clk";
 			clocks = <&clkc 20>, <&clkc 37>;
-			compatible = "xlnx,ps7-can-1.00.a";
+			compatible = "xlnx,ps7-can-1.00.a", "xlnx,ps7-can";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 51 4>;
 			reg = <0xe0009000 0x1000>;
@@ -124,8 +113,11 @@
 			#dma-channels = <8>;
 			#dma-requests = <4>;
 			arm,primecell-periphid = <0x41330>;
+			clock-names = "apb_pclk";
 			clocks = <&clkc 27>;
 			compatible = "xlnx,ps7-dma-1.00.a", "arm,primecell", "arm,pl330";
+			interrupt-names = "abort", "dma0", "dma1", "dma2", "dma3",
+				"dma4", "dma5", "dma6", "dma7";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 13 4>, <0 14 4>, <0 15 4>, <0 16 4>, <0 17 4>, <0 40 4>, <0 41 4>, <0 42 4>, <0 43 4>;
 			reg = <0xf8003000 0x1000>;
@@ -261,6 +253,8 @@
 			#size-cells = <1>;
 			compatible = "xlnx,ps7-scugic-1.00.a", "arm,cortex-a9-gic", "arm,gic";
 			interrupt-controller ;
+			num_cpus = <2>;
+			num_interrupts = <96>;
 			reg = <0xf8f01000 0x1000>, <0xf8f00100 0x100>;
 		} ;
 		ps7_scutimer_0: ps7-scutimer@f8f00600 {
@@ -297,6 +291,7 @@
 						"uart0_aper", "uart1_aper", "gpio_aper", "lqspi_aper", "smc_aper",
 						"swdt", "dbg_trc", "dbg_apb";
 					compatible = "xlnx,ps7-clkc";
+					fclk-enable = <0xf>;
 					ps-clk-frequency = <33333333>;
 				} ;
 			} ;
diff --git a/arch/arm/boot/dts/zynq-zed.dts b/arch/arm/boot/dts/zynq-zed.dts
index 67851c2..911b88a 100644
--- a/arch/arm/boot/dts/zynq-zed.dts
+++ b/arch/arm/boot/dts/zynq-zed.dts
@@ -7,21 +7,6 @@
  *
  * Michal SIMEK <monstr@monstr.eu>
  *
- * This program is free software; you can redistribute it and/or
- * modify it under the terms of the GNU General Public License as
- * published by the Free Software Foundation; either version 2 of
- * the License, or (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 59 Temple Place, Suite 330, Boston,
- * MA 02111-1307 USA
- *
  * CAUTION: This file is automatically generated by libgen.
  * Version: Xilinx EDK 14.5 EDK_P.58f
  *
@@ -44,24 +29,27 @@
 	} ;
 	cpus {
 		#address-cells = <1>;
-		#cpus = <0x2>;
 		#size-cells = <0>;
 		ps7_cortexa9_0: cpu@0 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x0>;
 		} ;
 		ps7_cortexa9_1: cpu@1 {
+			bus-handle = <&ps7_axi_interconnect_0>;
 			compatible = "arm,cortex-a9";
 			d-cache-line-size = <0x20>;
 			d-cache-size = <0x8000>;
 			device_type = "cpu";
 			i-cache-line-size = <0x20>;
 			i-cache-size = <0x8000>;
+			interrupt-handle = <&ps7_scugic_0>;
 			reg = <0x1>;
 		} ;
 	} ;
@@ -70,6 +58,7 @@
 		interrupt-parent = <&ps7_scugic_0>;
 		interrupts = <0 5 4>, <0 6 4>;
 		reg = <0xf8891000 0x1000>, <0xf8893000 0x1000>;
+		reg-names = "cpu0", "cpu1";
 	} ;
 	ps7_ddr_0: memory@0 {
 		device_type = "memory";
@@ -114,8 +103,11 @@
 			#dma-channels = <8>;
 			#dma-requests = <4>;
 			arm,primecell-periphid = <0x41330>;
+			clock-names = "apb_pclk";
 			clocks = <&clkc 27>;
 			compatible = "xlnx,ps7-dma-1.00.a", "arm,primecell", "arm,pl330";
+			interrupt-names = "abort", "dma0", "dma1", "dma2", "dma3",
+				"dma4", "dma5", "dma6", "dma7";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 13 4>, <0 14 4>, <0 15 4>, <0 16 4>, <0 17 4>, <0 40 4>, <0 41 4>, <0 42 4>, <0 43 4>;
 			reg = <0xf8003000 0x1000>;
@@ -232,6 +224,8 @@
 			#size-cells = <1>;
 			compatible = "xlnx,ps7-scugic-1.00.a", "arm,cortex-a9-gic", "arm,gic";
 			interrupt-controller ;
+			num_cpus = <2>;
+			num_interrupts = <96>;
 			reg = <0xf8f01000 0x1000>, <0xf8f00100 0x100>;
 		} ;
 		ps7_scutimer_0: ps7-scutimer@f8f00600 {
@@ -253,7 +247,7 @@
 			clock-frequency = <50000000>;
 			clock-names = "ref_clk", "aper_clk";
 			clocks = <&clkc 21>, <&clkc 32>;
-			compatible = "xlnx,ps7-sdio-1.00.a", "generic-sdhci";
+			compatible = "xlnx,ps7-sdio-1.00.a", "generic-sdhci", "arasan,sdhci";
 			interrupt-parent = <&ps7_scugic_0>;
 			interrupts = <0 24 4>;
 			reg = <0xe0100000 0x1000>;
@@ -280,6 +274,7 @@
 						"uart0_aper", "uart1_aper", "gpio_aper", "lqspi_aper", "smc_aper",
 						"swdt", "dbg_trc", "dbg_apb";
 					compatible = "xlnx,ps7-clkc";
+					fclk-enable = <0xf>;
 					ps-clk-frequency = <33333333>;
 				} ;
 			} ;
@@ -312,7 +307,6 @@
 			interrupts = <0 21 4>;
 			phy_type = "ulpi";
 			reg = <0xe0002000 0x1000>;
-			xlnx,usb-reset = <0xffffffff>;
 		} ;
 		ps7_xadc: ps7-xadc@f8007100 {
 			clocks = <&clkc 12>;
-- 
1.8.3.4

