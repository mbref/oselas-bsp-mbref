From ec38987a4850b2bd613e45dd952faf9af72b8c20 Mon Sep 17 00:00:00 2001
From: Michael Olbrich <m.olbrich@pengutronix.de>
Date: Tue, 6 Jul 2010 12:28:03 +0200
Subject: [PATCH] HACK: don't drop dependency libs

On Linux the configure script generates a libtool that will drop dependency
libs when linking a library/program. This is done to avoid explicitly
linking to implicit depencencies. This is usually the right thing to do.
However it breaks if the implicit depencencies are not installed.

This patch ensures that libtool will link to all dependency libs to avoid
the problem.

Signed-off-by: Michael Olbrich <m.olbrich@pengutronix.de>
---
 configure |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

diff --git a/configure b/configure
index 046d740..f8220a4 100755
--- a/configure
+++ b/configure
@@ -13920,9 +13920,6 @@ $as_echo_n "checking whether the $compiler linker ($LD) supports shared librarie
   openbsd*)
     with_gnu_ld=no
     ;;
-  linux* | k*bsd*-gnu)
-    link_all_deplibs=no
-    ;;
   esac
 
   ld_shlibs=yes
-- 
1.7.1

